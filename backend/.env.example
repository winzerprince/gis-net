# ==================================================
# GIS-NET BACKEND ENVIRONMENT VARIABLES
# Enhanced Real-Time Traffic Incident Reporting System
# ==================================================
# 
# This file contains all environment variables required for the backend API server.
# Copy this file to .env and update the values according to your environment.
# 
# SECURITY NOTES:
# - Never commit the actual .env file to version control
# - Use strong, unique values for JWT_SECRET and database passwords
# - In production, use environment-specific secrets management
# 
# DATABASE CONFIGURATION:
# - Uses PostgreSQL with PostGIS extension for spatial operations
# - Connection string format: postgresql://user:password@host:port/database
# - For Docker setup, use 'db' as hostname (service name in docker-compose)

# Server Configuration
PORT=4000
NODE_ENV=development

# Database Configuration (PostgreSQL + PostGIS)
DATABASE_URL=postgresql://postgres:password@db:5432/trafficdb
DB_HOST=db
DB_PORT=5432
DB_NAME=trafficdb
DB_USER=postgres
DB_PASSWORD=password

# JWT Authentication
# SECURITY: Generate a strong secret (minimum 256 bits)
# Example generation: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change_this_to_a_very_long_and_secure_random_string_in_production
JWT_EXPIRES_IN=24h

# External APIs
# Nominatim for geocoding (free OpenStreetMap service)
NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org

# Optional: TomTom Traffic API for traffic data enrichment
# Sign up at https://developer.tomtom.com/ for free tier
TOMTOM_API_KEY=your_optional_tomtom_api_key_here

# Optional: Google Maps Geocoding API (if you prefer over Nominatim)
GOOGLE_MAPS_API_KEY=your_optional_google_maps_api_key_here

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
# In production, specify your frontend domain
CORS_ORIGIN=http://localhost:3000

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Session Configuration (if using express-session)
SESSION_SECRET=another_very_secure_secret_for_sessions

# Email Configuration (for notifications, optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# Redis Configuration (for caching, optional)
REDIS_URL=redis://localhost:6379

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif

# Development/Debug Configuration
DEBUG=gis-net:*
ENABLE_REQUEST_LOGGING=true
